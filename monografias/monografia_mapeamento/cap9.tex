%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%   Resultados
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\chapter{Resultados obtidos}
\label{cap:resultados_obtidos}

Durante o desenvolvimento muitos testes e ajustes foram executados na expectativa de atingir o objetivo de forma mais rápida e eficiente, ou seja, mapear todo ambiente com o menor tempo possível.
Para isso alteramos o tamanho do raio dos \textit{mark points}, o tamanho dos lasers e o tamanho do ambiente empiricamente, ou seja, testando e observando os resultados obtidos.

\section{Quanto ao tamanho do ambiente}

Ambientes muito grandes não prejudicaram o processo de mapeamento, mas o tornou muito lento. Enquanto que ambientes muito pequenos fizeram com que o número de colisões do agente nas paredes aumentasse consideravelmente, prejudicando a navegacão.

O ambiente ideal deve ter o triplo do tamanho do agente, sendo que o dobro também garante boa navegacão e mapeamento.
Matematicamente: sendo \textit{xa, ya e za,} as coordenadas ideais do ambiente, e \textit{xr, yr, zr} as coordenadas do agente, $xa = 3xr$, $ya = 3yr$ e $za = 3zr$

\section{Quanto à distribuicão dos lasers e sua quantidade}


Nestes testes levamos sempre em consideracao o custo em processamento de informação (para o caso de uma quantidade muito grande de lasers) e a exatidão da interpretação dos dados a fim de proporcionar uma boa navegação pelo ambiente, pré-requisito para um bom mapeamento.


Em outras palavras, o agente deve ter a menor quantidade de lasers possível para não sobrecarregar o processamento das informações e garantir agilidade. Contudo, se por um lado muitos lasers causam um desperdício de processamento, poucos lasers resultam em um mapeamento ineficiente, pois o agente volta várias vezes em pontos muito próximos dos que já foram mapeados, ou seja, o número de \textit{mark points} aumenta de forma considerável e desnecessária. 

O número de lasers do agente deve ser em torno de 22, variando em até 3 unidades.

Um outro problema que causa um mapeamento ineficiente é se os lasers forem muito curtos, pois o agente tenderá a andar pelos cantos das salas e quando estes cantos estiverem mapeados ele irá para longe das paredes e ficará andando em círculos até que seus créditos terminem. O ideal é que o tamanho do laser seja a média aritmética das coordenasdas \textit{(x, y, z)} do agente.

Matematicamente: sendo \textbf{l} o tamanho ideal de cada laser, $$l = \frac{xr+yr+zr}{3}$$

A distribuição ideal dos lasers é a que proporciona um campo de visão de 120 graus, sendo 60 graus para a esquerda e 60 para direita, apesar de um campo de 180 graus também proporcionar uma navegação e mapeamento eficientes, contudo, neste último caso o cuidado com o tamanho dos lasers deve ser maior, pois tendo o agente uma visão muito ampla (de 90 graus para cada lado), ele poderá retornar para um cômodo já mapeado com mais freqüência. Um campo de visão acima de 180 graus é desencorajado, visto que o agente quase sempre retornará para um cômodo já mapeado.


Em contrapartida, um campo de visão estreito (menor do que 120 graus) faz com que o agente ignore portas e passagens freqüentemente a menos que estas estejam à sua frente.

\section{Quanto ao raio dos mark points}

O agente cria mark points conforme navega e descobre novos caminhos. Quanto menor o raio \textit{mais mark} points são encontrados, mais créditos o agente ganha, mais vezes ele retorna nos cômodos e mais tempo demora o mapeamento. O contrário ocorre quanto menor for o raio.


O raio ideal, para um abiente ideal, é a média aritmética das coordenadas (x, y, z) desse ambiente.

Matematicamente: sendo \textbf{r} o raio dos \textit{mark points}, 
$$r = \frac{xa+ya+za}{3}$$

\section{Quanto à aplicação integrada}

Ao termino do SLAM e da aplicação que foi sua prova de conceito, uma outra aplicação que foi desenvolvida utilizando a parte de mapeamento em conjunto com a parte de visão do Tool Kit  Horus, comprovando assim a interoperabilidade entre os módulos.
 
A aplicação integrada tem todas as características do módulo de mapeamento desenvolvido e utiliza a parte de reconhecimento de padrões do modulo de visão, com isso o agente pode reconhecer  marcações distribuídas pelo ambiente para ajudar na navegação e atingir o seu objetivo de forma mais rápida.

Para isso, um novo ambiente virtual foi construído. Neste ambiente disponibilizamos placas com setas indicadoras de salas e suas direções (direita ou esquerda). O agente é capaz de não apenas identificar a placa no ambiente, mas também compreender o que está escrito nesta placa e decidir qual direção tomar posteriormente. Isto é feito através de marcos no chão que são disponibilizados imediatamente antes de cada placa.

Nesta aplicação o agente possui duas câmeras, uma com sua visão de primeira pessoa e outra com a visão voltada para o chão. O propósito desta última é identificar aqueles marcos, pois quando o agente encontra um marco é certo que por aquela região existe uma placa, então a câmera de primeira pessoa entra em ação em busca da placa.

É interessante informar que o uso de marcos no chão não é obrigatório, o agente poderia apenas procurar pelas placas e ter só uma câmera - a de primeira pessoa - mas isso tornaria a navegação extremamente lenta, pois o agente iria buscar a placa em vão com muita freqüência.

Uma vez que a placa tenha sido encontrada, o algoritmo de reconhecimento de padrão entra em ação para identificar os caracteres presentes na placa e também as setas e suas direções.
A imagem abaixo mostra uma das placas que estão no ambiente:

\begin{figure}[!htb]
\centering
\begin{center}
    \includegraphics[scale=0.3,bb=0 0 722 358]{imagens/fotos/placa.png}
\end{center}
\caption{Placa utilizada na aplicação integrada.}
\label{fig:agente}
\end{figure}

Portanto, a aplicação integrada comprova o funcionamento em conjunto dos módulos desenvolvidos de mapeamento e de visão, atribuindo ao agente as características essenciais para alcançar o seu objetivo de forma mais eficaz, ainda que em um ambiente virtual.
